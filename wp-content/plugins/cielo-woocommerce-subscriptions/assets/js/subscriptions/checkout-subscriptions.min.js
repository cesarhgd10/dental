!function(a){"use strict";a(function(){function b(b){var c=a("#cielo-subscriptions-payment-form #cielo-installments");a("#cielo-subscriptions-payment-form #cielo-installments").empty(),a("#cielo-subscriptions-payment-form #cielo-installments").prepend(a.data(document.body,"cielo_subscriptions_installments")),"discover"===b&&a("option",c).not(".cielo-at-sight").remove()}if(a.data(document.body,"cielo_subscriptions_installments",a("#cielo-subscriptions-payment-form #cielo-installments").html()),a.payment.cards){var c=[];a.each(a.payment.cards,function(a,b){c.push(b.type)}),"undefined"==typeof a.payment.cards[0].pattern?-1===a.inArray("aura",c)&&a.payment.cards.unshift({type:"aura",patterns:[5078],format:/(\d{1,6})(\d{1,2})?(\d{1,11})?/,length:[19],cvcLength:[3],luhn:!0}):(-1===a.inArray("elo",c)&&a.payment.cards.push({type:"elo",pattern:/^(636[2-3])/,format:/(\d{1,4})/g,length:[16],cvcLength:[3],luhn:!0}),-1===a.inArray("aura",c)&&a.payment.cards.unshift({type:"aura",pattern:/^5078/,format:/(\d{1,6})(\d{1,2})?(\d{1,11})?/,length:[19],cvcLength:[3],luhn:!0}))}a(document.body).on("ajaxComplete",function(){a.data(document.body,"cielo_subscriptions_installments",a("#cielo-subscriptions-payment-form #cielo-installments").html()),b(a("body #cielo-subscriptions-payment-form #cielo-card-brand option").first().val())}),a(document.body).on("change","#cielo-subscriptions-payment-form #cielo-card-number",function(){b(a.payment.cardType(a(this).val()))}),a(document.body).on("checkout_error",function(){a("body .cielo-payment-form input").val("")})})}(jQuery);